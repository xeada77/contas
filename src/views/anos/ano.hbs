
{{>resumen-ano}}
<h2 class="p-2">
    Movimientos
    <small class="text-muted">Año {{ano.ano}}</small>
</h2>
<div class="row">
    {{>tabla-movimientos}}
</div>
<div class="row">
    <div class="card w-100">
        <div class="card-header">
            <h3>Añadir Movimiento</h3>
        </div>
        <div class="card-body">
            <form id="addMovimiento">
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="seleccionfecha">Fecha</label>
                        <div class="input-group date" id="seleccionfecha" data-target-input="nearest">
                            <div class="input-group-prepend" data-target="#seleccionfecha" data-toggle="datetimepicker">
                                <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                            </div>
                            <input type="text" class="form-control datetimepicker-input" data-target="#seleccionfecha"
                                placeholder="Fecha" id="fecha" name="fecha"/>
                            
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="concepto">Concepto</label>
                        <div class="input-group">
                            <div class="input-group-prepend"><span class="input-group-text"><i class="fas fa-receipt"></i></span></div>
                            <input type="text" class="form-control" id="concepto" placeholder="Concepto" name="concepto">
                            
                        </div>
                    </div>
                    <div class="form-group col-md-3">
                        <label for="cantidad">Cantidad</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">€</span>
                                <span class="input-group-text">0.00</span>
                            </div>
                            <input type="text" class="form-control" id="cantidad" placeholder="Cantidad" name="cantidad">
                            
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="categoria">Categoria</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupSelect02">Opciones</label>
                        </div>
                        <select id="categoria" class="form-control custom-select" name="categoria">
                            <option selected disabled>Elegir...</option>
                            <optgroup label="Gastos">
                                {{#each categorias}}
                                {{#unless ingreso}}
                                <option class="opciones" data-id="{{_id}}">{{codigo}} - {{nombre}}
                                </option>
                                {{/unless}}
                                {{/each}}
                            </optgroup>
                            <optgroup label="Ingresos">
                                {{#each categorias}}
                                {{#if ingreso}}
                                <option class="opciones" data-id="{{_id}}">{{codigo}} - {{nombre}}
                                </option>
                                {{/if}}
                                {{/each}}
                            </optgroup>
                        </select>
                    </div>
                </div>
                <div class="form-row mt-4 justify-content-end">
                    <button type="button" class="btn btn-danger " id="limpiar-movimiento">Limpiar</button>
                    <button type="submit" class="btn btn-primary ml-2" id="guardar-movimiento" data-id="{{ano._id}}"
                        data-ano="{{ano.ano}}">Guardar</button>
                </div>
            </form>
        </div>
    </div>
</div>